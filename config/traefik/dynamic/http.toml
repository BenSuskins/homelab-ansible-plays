################################################################
# HTTP Configuration (Routers & Services)
################################################################
[http]
  [http.routers]
    [http.routers.authentik]
      rule = "Host(`auth.suskins.co.uk`)"
      service = "authentik"
      entryPoints = ["websecure"]
      middlewares = ["ratelimit"]
      tls = true
    [http.routers.pubgolf]
      rule = "Host(`pubgolf.me`)"
      service = "pubgolf"
      entryPoints = ["websecure"]
      middlewares = ["ratelimit"]
      tls = true
    [http.routers.pubgolfapi]
      rule = "Host(`api.pubgolf.me`)"
      service = "pubgolfapi"
      entryPoints = ["websecure"]
      middlewares = ["ratelimit"]
      tls = true

  [http.services]
    [http.services.authentik.loadBalancer]
      [[http.services.authentik.loadBalancer.servers]]
        url = "http://192.168.0.105:9000"
    [http.services.pubgolf.loadBalancer]
      [[http.services.pubgolf.loadBalancer.servers]]
        url = "http://192.168.0.102:3003"    
    [http.services.pubgolfapi.loadBalancer]
      [[http.services.pubgolfapi.loadBalancer.servers]]
        url = "http://192.168.0.102:8080"              
        